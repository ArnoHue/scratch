when gf clicked
set [MusicTrack v] to [2]
forever 
if <(MusicTrack) = (1)> then 
play sound (1 v) until done
 else 
play sound (1 v) until done
end
end

when [m v] key pressed
if <(MusicTrack) = (1)> then 
set [MusicTrack v] to [2]
set [Status v] to [Space]
 else 
set [MusicTrack v] to [1]
set [Status v] to [Arkanoid]
end
broadcast (1 v)
stop all sounds
wait (1) seconds
set [Status v] to []
broadcast (1 v)

when [i v] key pressed
ask [Please paste life form definition in RLE format] and wait
if <(length of (answer)) > (0)> then 
set [ImportPattern v] to (answer)
set [Command v] to [Import]
set [LifeForm v] to [Custom]
ShowLifeForm
end

when [c v] key pressed
set [Command v] to [Clear]

when [r v] key pressed
set [Command v] to [Random]

when i receive [statuschanged v]
if <(length of [Status]) > (0)> then 
show variable [Status v]
 else 
hide variable [Status v]
end

when gf clicked
set [FrameSkipping v] to [0]
set [Speed v] to [100]
set [LifeForm v] to [Spaceship]
set [ControlsVisible v] to [0]
set [Fps v] to [0]
set [FpsVisible v] to [0]
hide variable [FrameSkipping v]
hide variable [Speed v]
hide variable [LifeForm v]
hide variable [Fps v]

when [1 v] key pressed
set [LifeForm v] to [GliderGun]
ShowLifeForm

when [2 v] key pressed
set [LifeForm v] to [Pulsar]
ShowLifeForm

when [3 v] key pressed
set [LifeForm v] to [Pentomino]
ShowLifeForm

when [4 v] key pressed
set [LifeForm v] to [Spaceship]
ShowLifeForm

event_whenstageclicked
broadcast (1 v)

when [s v] key pressed
if <(ControlsVisible) = (1)> then 
set [ControlsVisible v] to [0]
hide variable [Speed v]
hide variable [LifeForm v]
hide variable [FrameSkipping v]
 else 
set [ControlsVisible v] to [1]
show variable [Speed v]
show variable [LifeForm v]
show variable [FrameSkipping v]
end

define ShowLifeForm
if <(ControlsVisible) = (0)> then 
show variable [LifeForm v]
wait (1) seconds
hide variable [LifeForm v]
end

when [f v] key pressed
if <(FpsVisible) = (1)> then 
set [FpsVisible v] to [0]
hide variable [Fps v]
 else 
set [FpsVisible v] to [1]
show variable [Fps v]
end

when [t v] key pressed
set [Command v] to [ToggleGrid]

when [5 v] key pressed
set [LifeForm v] to [Custom]
ShowLifeForm

when [space v] key pressed
set [Command v] to [SuspendResume]
